---
title: Formation User Guide
---


**Table of Contents:**
- [What is this document?](#what-is-doc)
- [What is the design system?](#what-is-system)
  - [Component contents](#component-contents)
  - [Organization](#organization)
  - [How does it work?](#how-it-works)
  - [How do I use it?](#use)
    - [As a designer](#use-designer)
    - [As a developer](#use-developer)
    - [As a writer](#use-writer)
    - [As a researcher]((#use-researcher))
  - [Definitions](#definitions)
- [Contribution](#contribution)
  - [Creating new components](#create)
    - [Required questions](#required)
    - [Optional questions](#optional)
    - [Share the component](#share)
  - [Moving new components into Fractal](#move)
    - [The `prototype` label](#kitchen-sink)
    - [At what point is a component ready to become part of the Core?](#core)
    - [At what point do we feed back into USWDS?](#uswds)
    - [What files should all components have?](#files)
    - [Naming Conventions](#naming)
- [Maintenance](#maintenance)
  - [Who is responsible for ongoing maintenance?](#responsible)
  - [Who owns the design system? Where does the buck stop?](#ownership)
  - [Timing](#timing)
  - [Maintenance tasks](#tasks)
  - [Deprecation](#deprecation)

## What is this document? <a name="what-is-doc"></a>

**v3 Modified 2/8/18**

A draft of recommended governance for the Vets.gov design system. [Feedback welcome](https://github.com/department-of-veterans-affairs/design-system/issues). Strong opinions, loosely held.

**It contains:** an explanation of what the design system is, who it's for, and how to use it.

## What is the design system? <a name="what-is-system"></a>

The design system (affectionately named "Formation") is a Fractal implementation for Vets.gov. It's based on USWDS' own system, and modified for the unique needs of Vets.gov.

Vets.gov has a collection of components that make up the website. These components have a visual styleguide associated with them, as well as reviewed and refined code that drives them, and best practices for when to use them. Formation is a single source of documentation and truth for people looking to use the Vets.gov components.

Formation's purpose is to provide accepted guidance for:

* code implementations for existing components
* visual design for existing components
* use guidelines for existing components (when and when *not* to use a thing)
* implementation of new visual patterns and components

Its purpose is _not_ to limit the creation of new components and applications. If you need something, and it's not already a part of Formation, we have a [process](#contribution) for you!

### Component contents <a name="component-contents"></a>

Each component included in the design system has the same core files and views associated with it, accessible from the tabs for each component:

- HTML: Fractal's rendered code
- Notes: Generated by a component's `README.md` file, the Notes section includes links to robust documentation (if available) and guidance for when and when not to use a given component. Gotchas, considerations, and major decision points should be found here as well.
  - > Meeting this promise will require that we go back and document!
- View: Generated by a component's `.njx` file, this shows the code that's producing the component you see in the preview window.
- Context: Generated by a component's `config.yml` file, the context shows what props and data are being passed to the component's preview.
- Assets: Available for React components only, the Assets tab reveals which `.jsx` files are associated with a component.
- Info: Fractal's info window, showing filepaths and handles for use within Fractal itself.
- Props: Exposes a React component's `props`, their types, and whether or not they are required.

### Organization <a name="organization"></a>

Formation is very loosely organized according to the principles of atomic design, which is the idea that small atoms (like colors, typography, links, fieldforms, and buttons) can be combined into larger atoms (like forms) and then even larger organisms (like templates and pages).

We don't totally adhere to the structure of atomic design with this sytem, but we have something akin to it. For example, all the form elements are grouped together, and all the basics of the Vets visual language are also grouped together.

This organization is very much subject to change as we work out the specifics of our NPM module and other needs.

### How does it work? <a name="how-it-works"></a>

Formation is built on a piece of software called [Fractal](https://fractal.build), which is effectively a static site generator, similar to Metalsmith or Jekyll. A component is defined by a collection of [files](#files) with the same name, but different extensions.

The different components can be referenced within Formation to build larger templates and layouts.

> Need some help explaining how this connects to Vets.gov

### How do I use it? <a name="use"></a>

Don't identify with any of these categories? [Submit an issue](https://github.com/department-of-veterans-affairs/design-system/issues) to our repo!

#### As a designer <a name="use-designer"></a>

This system contains (or will contain) all the visual patterns in use on Vets.gov. You can use this system as a reference (how does this component look? What is the standard layout?), as a guide for when certain components are or aren't appropriate, and to guide the development of new visual patterns.

#### As a developer <a name="use-developer"></a>

For each visual pattern represented here, there's associated code. Code can be React or static HTML. You can use this system as a reference for React components, or as a source of truth for the static code that's in use on Vets.gov. Rather than copy and paste code from an existing file, or re-inventing the wheel, come to this reference first.

#### As a writer <a name="use-writer"></a>

Writers are responsible not just for words, but often for the markup that renders static pages on Vets.gov. You should be able to come to this system to find the code that drives a given layout element you want to use. It also functions as a catalog of available patterns and their documentation, so you can be sure to choose the appropriate component.

#### As a researcher <a name="use-researcher"></a>

Want to know what new patterns are in development that may need to be tested? Look no further than Formation's WIP labels. This system should also provide another connection between research and design, in that the research team's process is documented here for designers and other teammates to reference.

### Definitions <a name="definitions"></a>

**Core**: The tried & true, tested parts of our design system. Comprises a subset of USWDS' core code, plus the patterns in production on Vets.gov

**Component**: An element that is visible on the design system. Differs from a React component in that it might or might not actually _be_ React code. So named because that's Fractal's default, but maybe we should look into finding a new term?

**Static component**: A Fractal component that is static HTML — not React — that up until recently has been hand-copied-and-pasted into `.md` files

**React component:** A Fractal component that _is_ React. Is also, technically, a React component in the usual sense of the phrase. Is called upon in React apps.

## Contribution <a name="contribution"></a>

We welcome feedback and other contribution to Formation. This section will develop over time -- for now, this is meant to guide Vets.gov teammates' contribution to the system. _With thanks to USWDS' own contribution guidelines._

When you want to create a new component on Formation, please open a PR onto master after reading the guidelines below.

### Creating new components <a name="create"></a>

Loosely, the process for bringing a new component into the design system mirrors the creation of a new design pattern. New components should result from a demonstrated need for a new visual or user-interaction pattern.


#### Required questions <a name="required"></a>

- Are there any similar or related patterns in the system already? How is this one materially different?
- Describe the pattern: what’s its purpose and functionality?
- What user need does it solve?
- Does it adhere to existing Vets.gov standards of color, padding, grid, typography, etc.?
- Does it follow best practices for accessibility, design, and user experience?
  > as defined by whom? Could we point to relevant USWDS/18F/Vets.gov playbook documentation?

#### Optional questions <a name="optional"></a>

- Have you conducted primary research? If so, provide this as part of the documentation.
- Do you have secondary research (e.g. articles, outside research)? If so, provide this as part of the documentation.

New components **should**:

- Have gone through review with both the product-owning team, and the design teams. Doesn't matter if it's a formal review or not — but there need to be eyes on it other than yours.
- Have gone through basic research, either in concert with the product housing the new component, or on its own.
- Have been tested for accessibility / 508 compliance, with the awareness that those are _not_ the same thing!
- Have been assessed for best practices in code.

New components **should not**:

- Duplicate existing function or the visual pattern of an existing pattern or component
- Violate accessibility rules and standards as defined by the 508 office and our own best practices
- Violate Vets.gov visual rules as set forth by the design system and the design team
- Be integrated into the product, and by extension the system, without having undergone design, accessibility, and code review


### Moving new components into Fractal <a name="move"></a>

New design system components should follow this general path:

`idea/design sketch` » `code (static or React)` » `Fractal's kitchen sink` » `Some assessment period where we decide if it's a one-off or not` »  `if one-off, should stay in kitchen sink; else should be integrated into the appropriate place in Core`

> Mel: Moving new components into Fractal -- I love this process flow. What do you think about making it into a more visual flow chart?

#### The `prototype` label <a name="kitchen-sink"></a>

The design system includes three labels you can use to describe components:
- `ready` shows as a green dot, and means the component is fully developed and in production
- `wip` shows as an orange dot, and currently means that the component is in the process of being integrated into production
- `prototype` shows as a red light, and means that a component is in development. This is the label any new components should start under.

You should use the `prototype` label if:
- You have a one-off component that will go into production on Vets.gov, _even if it will only ever be used once_. This helps us keep track of what exists on the site.
- You have a one-off component that might be developed into a more generic component for Vets.gov

#### At what point is a component ready to become part of the Core? <a name="core"></a>

A component is ready to become part of Formation's Core when it:
- Has been used in more than two discrete places on Vets.gov (ie, shows once in Education, and again in Healthcare — not twice on the same page / in the same file), AND we can see a future use case
- Has been refined by the design team, as needed
- Has been refined by the engineering team, as needed
- Has passed accessibility and 508 testing

#### At what point do we feed back into USWDS? <a name="uswds"></a>

This is an open question that we need to further discuss, but suggest that if we have a component that is not already represented in USWDS's system and has potential to be useful, that we fork their repo and go from there.

#### What files should all components have? <a name="files"></a>

- React
  - `.config.yml` (Fractal labeling and props used in the component example)
  - `.jsx` (the React component itself)
  - `.njk` (jsx code that creates an example use of the component from props in the config file)
  - `.unit.spec.test.js` (tests for the React component)
  - `README.md` (will display in **Notes** tab and carries relevant context for design + content to know when to use a given pattern)
- Static HTML
  - `.config.yml` (Fractal labeling and props used in the component example)
  - `.njk` (carries HTML markup)
  - `README.md` (will display in **Notes** tab; carries relevant context for design + content to know when to use a given pattern)

#### Naming Conventions <a name="naming"></a>

How do we name components in our design system? These names should be recognizable and unique.

Because this system is based on USWDS' system, we should maintain the names that USWDS has set, to make it easier to upgrade the USWDS core in the future.

Additional components have been brought in that are currently in use on Vets.gov. Those also have existing naming conventions that go beyond the codebase — we use them to verbally communicate patterns as we work through design. As these components get moved into the design system, their names (based on the filenames that house the code) should be maintained.

> If there is a conflict between Vets.gov's code and USWDS' code, **how should we proceed?**

New components should have names that:

 - do not conflict with the existing codebase
 - are descriptive of the component (ie, "errorable checkbox")
 - are plain-language (call a list a list.)


---


## Maintenance <a name="maintenance"></a>

### Who is responsible for ongoing maintenance? <a name="responsible"></a>

Rather than appointing specific people from each team, every designer and FE should be responsible and comfortable with maintenance. Otherwise bottlenecking may be a concern.

- The responsible individuals should make it part of their offboarding process to transfer their design system responsibilities to their successor.
- Consider making a turn on design system part of standard Ad Hoc/DSVA onboarding — best way to get familiar with our patterns and best practices


### Who owns the design system? Where does the buck stop? <a name="ownership"></a>

The design system is owned by the team that owns sitewide responsibilities: Nebula. Nebula is responsible for making sure that each team is prioritizing maintenance work into their PI, particularly if a component is being expanded or modified by a particular product team.


### Timing <a name="timing"></a>

- How often do we update components?
  - This should probably be on an as-needed basis. If you see that a component needs to be updated, ticket it and work it into the next sprint.
- How often to we assess maintenance needs?
  - Once a PI, everyone with design system assigned to them should take a look at their constituent components and assess whether they need to be hardened in any way. That work should be ticketed, and those tickets should work their way into the next sprint in the PI.
- How often do we integrate new components?
  - If a component is ready to move from `prototype`, it should be ticketed and worked into the next sprint/PI (which one depends on the existing workload).


### Maintenance tasks <a name="tasks"></a>

- Possible maintenance tasks:
  - Unit testing: are the tests still making sense and passing?
  - CSS hardening
  - Has the component been modified in any way to accommodate an outside task? (IE the way the alert box component was extended to become a collapsible "one-off" crisis box, implemented by hand)
  - Is this component still in use?
  - Is this component being used outside of the recommended context?
    - might another pattern be developed instead?
    - should the existing pattern's docs be modified to reflect the new reality?

### Deprecation <a name="deprecation"></a>

Realistically, Vets.gov will outgrow components over time. This process should govern how components are deprecated and ultimately removed from Formation and by extension, our catalog of available visual patterns.

#### Why bother deprecating?

Keeping outdated components -- and their code -- in Formation not only adds file weight to the system when it's used on Vets.gov (and elsewhere, if we release at large), but also can produce a source of confusion to new teammates who might not be familiar with the tribal knowledge that often governs our design.

Deprecating and subsequently removing a component has three steps, and all three should be documented in Formation in perpetuity, for institutional knowledge's sake.

**Step 1:**

- Someone raises a flag that a component is no longer useful. This is usually a designer, but not always.
  - We need to answer: Does this component need to be replaced by a new one to satisfy user needs?
    - If yes, the new component should be [prototyped](#create)
    - If no, please document why this component isn't useful anymore, and add it to the component folder's README.md
- We agree as a team that this component needs to be deprecated.

**Step 2:**

- The component is flagged as `deprecated` in Formation. This gives another indicator to the entire Vets.gov team as well as any external users that the component is on its way out the door.
- Any pages using the component should be updated, with the component either removed or replaced (for example, we now use left-nav in place of piano keys).
- Visual regression tests should be run to ensure that the above change doesn't cause unanticipated changes.
- Documentation of the decision to deprecate and supporting arguments should be added to Formation.

Allow at least two sprint cycles to pass before continuing to Step 3.

**Step 3:**

- Component should not exist on any Vets.gov pages.
- Component's function should have been replaced by a new pattern OR it should be documented that the use case is no longer valid.
- Component's React files and any single-use CSS should be removed.

> Note: Need to ensure that we can keep a visual record and a README in the system without associated React files. Also need to add the `deprecated` label to the system.
